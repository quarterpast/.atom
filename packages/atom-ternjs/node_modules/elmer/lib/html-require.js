(function() {
  var HTMLRequire, fs;

  fs = require('fs');

  module.exports = HTMLRequire = (function() {
    HTMLRequire.register = function() {
      var _base;
      return (_base = require.extensions)['.html'] != null ? _base['.html'] : _base['.html'] = function(module, filePath) {
        var docFragment, html, template;
        html = fs.readFileSync(filePath, 'utf8');
        template = document.createElement('template');
        template.innerHTML = html;
        docFragment = template.content;
        return module.exports = new HTMLRequire(template.content);
      };
    };

    function HTMLRequire(documentFragment) {
      this.documentFragment = documentFragment;
    }

    HTMLRequire.prototype.getDocumentFragment = function() {
      return this.documentFragment;
    };

    HTMLRequire.prototype.clone = function() {
      return this.documentFragment.cloneNode(true);
    };

    return HTMLRequire;

  })();

}).call(this);
